"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),IncrementingTile=function(){function a(b,c){_classCallCheck(this,a),this.settings=Object.assign({},a.defaults,b),this.increment=this.settings.amountPerSecond/(1e3/this.settings.interval),this.target=c||null,this.interval=null,this.elements={},this.generate(),this.settings.increment&&this.tick()}return _createClass(a,[{key:"generate",value:function(){var b=this.settings,c=b.cssClass,d=b.top,e=b.centerPrefix,f=b.centerSuffix,g=b.bottom,h=b.amount,i=b.increment,j='<div class="inc-tile '+c+'">\n            <div class="inc-tile-top">'+d+'</div>\n            <div class="inc-tile-center">\n                <span>'+e+'</span>\n                <span class="inc-tile-amount">\n                    '+(i?0:a.format(h,this.settings.formatter))+"\n                </span>\n                <span>"+f+'</span>\n            </div>\n            <div class="inc-tile-bottom">'+g+"</div>\n        </div>",k=document.createElement("div");k.innerHTML=j,this.elements=a.queryElements(k.firstChild),this.target&&this.target.appendChild(this.elements.tile)}},{key:"update",value:function(){this.elements.amount.__value=(this.elements.amount.__value||0)+this.increment,this.elements.amount.innerText=a.format(this.elements.amount.__value,this.settings.formatter),this.settings.amount<=this.elements.amount.__value&&this.tick()}},{key:"tick",value:function(){var a=this;this.interval&&clearInterval(this.interval),this.settings.amount>(this.elements.amount.__value||0)?this.interval=setInterval(function(){return a.update()},this.settings.interval/this.settings.speed):this.settings.continuous&&(this.interval=setInterval(function(){return a.update()},this.settings.interval))}}]),a}();IncrementingTile.format=function(a,b){return a=Math.round(a<1?1:a),IncrementingTile.hasOwnProperty(b+"Formatter")?IncrementingTile[b+"Formatter"](a):a},IncrementingTile.thousandsFormatter=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},IncrementingTile.queryElements=function(a){return{tile:a,amount:a.querySelector(".inc-tile-amount"),top:a.querySelector(".inc-tile-top"),center:a.querySelector(".inc-tile-center"),bottom:a.querySelector(".inc-tile-bottom")}},IncrementingTile.defaults={formatter:"thousands",amount:1e4,amountPerSecond:150,continuous:!0,increment:!0,interval:500,speed:5,cssClass:"",top:"",centerPrefix:"",centerSuffix:"",bottom:""};